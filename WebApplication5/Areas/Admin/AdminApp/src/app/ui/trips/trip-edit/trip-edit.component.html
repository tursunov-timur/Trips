
    <div class="modal-header py-1 px-3">
        <h4 class="modal-title h4" id="modal-basic-title">Trip</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body pt-0 pb-2">
        <div *ngIf="currentTrip">
          <form [formGroup]="currentTripForm" id="currentTripForm"> 
              <div class="form-group">
                  <input class="form-control d-none" formControlName="id" />
              </div>   
              <div class="row">
                  <div class="col-lg-6">
                      <label>Trip name:</label>
                      <div class="form-group">
                          <input class="form-control" formControlName="name" />
                      </div>
                  </div>
                  <div class="col-lg-2">
                    <label>Trip url:</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="url" />
                    </div>
                  </div>
                  <div class="col-lg-2">
                    <label>Cover:</label>
                    <div class="form-group">
                      <angular-file-uploader
                            [config]="afuConfig"
                            (ApiResponse)="imageUploaded($event)">
                      </angular-file-uploader>
                    </div>
                  </div>
                  <div class="col-lg-2">
                    <div>
                      <img [src]="pathToCover" class="w-100">
                    </div>
                  </div>
                  <div class="col-lg-12">
                    <label>Trip description:</label>
                    <div class="form-group">
                        <!-- <div id="summernote"></div>  -->
                        <angular-editor formControlName="content" [config]="editorConfig"></angular-editor>
                        <!-- <app-ngx-editor formControlName="content"></app-ngx-editor> -->
                    </div>
                  </div>
                  
                  <div class="col-lg-6">
                    <label>Start date:</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="startDateStr" type="date"/>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>End date:</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="endDateStr" type="date"/>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>Price:</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="price" />
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>Price text</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="priceText" />
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>Days:</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="days" />
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>Nights:</label>
                    <div class="form-group">
                        <input class="form-control" formControlName="nights" />
                    </div>
                  </div>
                  <div class="col-lg-4 d-none">
                    <label>Activity</label>
                    <div class="form-group">
                        <select class="form-control" formControlName="activityId" >
                          <option *ngFor="let activity of activities$" [value]="activity.key">{{activity.value}}</option>
                        </select>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>Destination</label>
                    <div class="form-group">
                        <select class="form-control" formControlName="destinationId" >
                          <option *ngFor="let destination of destinations$" [value]="destination.key">{{destination.value}}</option>
                        </select>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <label>Type of Trip</label>
                    <div class="form-group">
                        <select class="form-control" formControlName="typeOfTripId" >
                          <option *ngFor="let typeOfTrip of typesOfTrip$" [value]="typeOfTrip.key">{{typeOfTrip.value}}</option>
                        </select>
                    </div>
                  </div>
                  <!-- <div class="col-lg-4">
                      <label>Event type:</label>
                      <div class="form-group">
                          <select class="form-control" formControlName="type">
                              <option [value]="type.key" *ngFor="let type of eventTypes$">{{type.value}}</option>
                          </select>
                      </div>
                  </div> -->
              </div>
              <!-- <label>Text:</label>
              <div class="form-group">                 
                  <app-ngx-editor                   
                      [spellcheck]="true" 
                      formControlName="text" 
                      [config]="editorConfig"
                      [imageEndPoint]="uploadImageUrl"></app-ngx-editor>
              </div>
              <div class="row">
                  <div class="col-lg-6">
                      <label>Created date:</label>
                      <div class="form-group">
                          <input class="form-control" name="createDate" formControlName="createDate" readonly/>
                      </div>
                  </div>
                  <div class="col-lg-6">
                      <label>Modification date:</label>
                      <div class="form-group">
                          <input class="form-control" name="modificationDate" formControlName="modificationDate" readonly/>
                      </div>
                  </div>
              </div> -->
          </form>
        </div>

        <!-- Nav tabs -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="program-tab" data-toggle="tab" href="#program" role="tab" aria-controls="program" aria-selected="true">Trip program</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#price" role="tab" aria-controls="profile" aria-selected="false">Trip price</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="messages-tab" data-toggle="tab" href="#faq" role="tab" aria-controls="messages" aria-selected="false">Trip FAQ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="settings-tab" data-toggle="tab" href="#photos" role="tab" aria-controls="settings" aria-selected="false">Photos</a>
          </li>
          <li class="nav-item">
              <a class="nav-link" id="schedules-tab" data-toggle="tab" href="#schedules" role="tab" aria-controls="schedules" aria-selected="false">Schedules</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content pb-2">
          <div class="tab-pane active" id="program" role="tabpanel" aria-labelledby="program-tab"> 
            <div class="mt-3">
              <div *ngFor="let day of programDays">
                <div class="d-flex justify-content-between">
                  <span>Day {{day.dayNumber}}</span>
                  <span (click)="deleteProgramDay(day)"><i class="fas fa-trash-alt"></i></span>
                </div>
                <div class="form-group">
                  <input type="text" class="form-control mb-1" [(ngModel)]="day.title"/>
                  <textarea type="text" [(ngModel)]="day.description"></textarea>
                </div>      
              </div>    
            </div>       
            <button class="btn btn-sm btn-primary" (click)="addNewDayToProgram()">Add day description</button>
          </div>

          <div class="tab-pane" id="price" role="tabpanel" aria-labelledby="profile-tab">
            <div class="mt-3">
                  <table class="table table-sm table-striped">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Title</th>                      
                        <th scope="col">Is Included</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let priceItem of priceItems; let i = index;">
                        <th scope="row">{{i + 1}}</th>
                        <td>{{priceItem.title}}</td>                   
                        <td><i class="fa fa-check" aria-hidden="true" *ngIf="priceItem.isIncluded"></i></td>
                        <td><i class="fas fa-trash-alt" (click)="deletePriceItem(priceItem)"></i></td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="row">
                    <div class="col-md-7">                    
                      <input type="text" class="form-control mb-1" [(ngModel)]="tripPriceTitle" placeholder="Title"/>                     
                    </div>
                    <!-- <div class="col-md-5">
                      <input type="text" class="form-control mb-1" [(ngModel)]="tripPriceDescription" placeholder="Description"/>
                    </div> -->
                   <div class="col-md-3">
                     <div class="d-flex">
                        <div>Is included in price</div>
                        <div style="width:30px;margin-left:20px;"><input type="checkbox" class="form-control mb-1" [(ngModel)]="tripPriceIsIncluded"/></div>
                      </div>
                    </div>
                    <div class="col-md-2">
                        <button class="btn btn-sm btn-secondary" (click)="addNewPriceItem()">Add new price item</button>
                    </div>
                  </div>
            </div>
          </div>

          <div class="tab-pane" id="faq" role="tabpanel" aria-labelledby="settings-tab">
              <div class="mt-3">
                <table class="table table-sm table-striped">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Title</th>                  
                      <th scope="col">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let tripFAQ of tripFAQs; let i = index;">
                      <th scope="row">{{i + 1}}</th>
                      <td>{{tripFAQ.title}}</td>                 
                      <td><i class="fas fa-trash-alt" (click)="deleteFAQItem(tripFAQ)"></i></td>
                    </tr>
                  </tbody>
                </table>
                <div class="row">
                  <div class="col-md-10">                    
                    <input type="text" class="form-control mb-1" [(ngModel)]="tripFAQTitle" placeholder="Title"/>                     
                  </div>
                  <div class="col-md-6 d-none">
                    <input type="text" class="form-control mb-1" [(ngModel)]="tripFAQDesqription" placeholder="Description"/>
                  </div>
                  <div class="col-md-2">
                      <button class="btn btn-sm btn-secondary" (click)="addNewFAQItem()">Add new faq item</button>
                  </div>
                </div>
              </div>
          </div>

          <div class="tab-pane" id="photos" role="tabpanel" aria-labelledby="messages-tab">
            <div class="form-group">
                <angular-file-uploader
                          class="mt-2"
                          [config]="afuConfigPhotos"
                          (ApiResponse)="photosUploaded($event)">                           
                    </angular-file-uploader>
            </div>
            <div class="row" style="height:350px;overflow-y:scroll;">
              <div *ngFor="let tripFoto of tripFotos" class="col-md-3">
                <img [src]="tripFoto.path" class="w-100" style="max-height: 150px;">
              </div>
            </div>
             
            <!-- <div class="mt-3">
              <div *ngFor="let tripFoto of tripFotos">
                <div class="d-flex justify-content-between">
                  <span>Item #{{tripFoto.sort}}</span>
                  <span (click)="deleteFotoItem(tripFoto)"><i class="fas fa-trash-alt"></i></span>
                </div>
                <div class="form-group">                  
                  <input type="text" class="form-control mb-1" [(ngModel)]="tripFoto.title"/>
                  <textarea type="text" [(ngModel)]="tripFoto.description"></textarea>
                </div>     
              </div>
              <button class="btn btn-sm btn-primary" (click)="addNewFotoItem()">Add new photo</button>  
            </div> 
          </div>-->
          </div>
          
          <div class="tab-pane" id="schedules" role="tabpanel" aria-labelledby="schedules-tab">
              <div class="mt-3">
                <table class="table table-sm table-striped">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Date</th>
                      <th scope="col">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let tripSchdule of tripSchdules; let i = index;">
                      <th scope="row">{{i + 1}}</th>
                      <td>{{tripSchdule.tripDate | date: 'dd/MM/yyyy'}}</td>
                      <td><i class="fas fa-trash-alt" (click)="deleteScheduleItem(tripSchdule)"></i></td>
                    </tr>
                  </tbody>
                </table>
                <div class="row">
                  <div class="col-md-4">                    
                    <input type="date" class="form-control mb-1" [(ngModel)]="tripSchedule" placeholder="Title"/>                     
                  </div>                  
                  <div class="col-md-2">
                      <button class="btn btn-sm btn-secondary" (click)="addNewScheduleItem()">Add new schedule</button>
                  </div>
                </div>
              </div>
          </div>
          
        


        <div class="modal-footer pt-2 pb-0 px-0">
          <button class="btn btn-outline-dark btn-sm" type="button" (click)="saveChanges()">Save changes</button>
        </div>
    </div>    
   
